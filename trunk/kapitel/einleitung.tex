\chapter{Einführung}
\label{chap:einleitung}

\section{Marktrelevanz}

Eine im Jahr 2007 von Ipoque \cite{ipoque:2007} durchgeführte Studie, bei der drei Petabyte anonymer Daten von mehr als einer Million Nutzern in Australien, Deutschland, dem Nahen Osten, Ost- und Südeuropa erhoben worden zeigt, dass P2P Anwendungen im Internet mehr Verkehr als alle anderen Anwendungen zusammen erzeugen. Dabei ist Voice over IP (VoIP) mittlerweile zu einer der beliebtesten Anwendungen geworden. Unter den Privatpersonen ist die Internet-Telefonie besonders bei den 18- bis 24-Jährigen beliebt. In dieser Gruppe verwendet fast jeder Vierte seinen Breitbandanschluss, um mit Freunden und Bekannten zu sprechen, das zeigten aktuelle Studien der FGW Online und des E-Business-Watch \cite{E-Business:08}. 

Parallel zur rasanten Entwicklung des VoIP Markets zeigen gleich mehrere große Studien die zunehmende Marktrelevanz von Computer- und Videospielen, die bei den gleichen Zielgruppen beliebt sind. So zeigen Studien von Ernst\&Young \cite{ErnstYoung:07} und PriceWaterhouseCoopers (PwC)\cite{pwc:07}, dass allein in Deutschland ihr Umsatz in diesem Jahr um 21\% auf 2,14 Millionen Euro gestiegen ist und es erwartet wird, dass dieser noch im laufenden Jahr sogar den Umsatz der Musikbranche übertreffen wird. Weltweit wird sogar ein Anstieg des Umsatzes der Unterhaltungs- und Medienindustrie bis 2011 auf 1,8 Billionen US-Dollar geschätzt. 

\section{Virtuelle Welten}

Einen großen Anteil an zunehmenden Beliebtheit von Computerspielen hat auch seine zunehmende Etablierung als Virtuelle Welt. Diese stellt für den den Spieler die Regeln auf nach denen gespielt wird, bietet aber gleichzeitig auch einen Ort an dem man mit anderen Spielern in gleicher Art und Weise Interagieren kann. 

Virtuelle Welten haben bereits Ende der 80er Jahre als "Multi User Dungeons" (MUDs) existiert.
Diese Systeme erlaubten es Benutzern sich mit einem Spiele Server mit Hilfe eines lokalen Terminals oder einer Modems zu verbinden und mit anderen Benutzern in einer imaginären Welt zu interagieren. Die Interaktion mit der virtuellen Welt und mit den Benutzern war zunächst textbasiert. Es gab keine Bildschirmgrafiken und die Welt wurde durch Beschreibungen dargestellt: "Du läufst durch die Tür in einen Raum. Links neben dir steht ein Tisch..." 

Die ersten populären begehbarbaren 3D Grafik Mehrspieler Welten waren lokale Netzwerkspiele, die Mitte der 90er Jahre entwickelt wurden und Namen wie Doom und Quake trugen. Benutzer dieser "First Person Shooter" (FPS) Spiele vernetzten ihre PCs in einem LAN (Local Area Network), bei dem ein PC als der Server arbeitete. Dieser Server verwaltete sowohl die lokale virtuelle Welt als auch die anwesenden Spieler. Die Teilnehmer befanden sich gewöhnlich im gleichen Raum und brauchten so keine Telekommunikation um sich zu verständigen. Sie sprachen einfach miteinander falls der Wunsch danach bestand. 

Ende der 90er Jahre bestand durch den frühen Zugang des Personal Computers zu globalen Netzwerken die Möglichkeit beliebte Action- und Rollenspiele mit Teilnehmern auf der ganzen Welt zu spielen. Die Ausweitung dieser Spiele auf das Internet, erlaubte es geografisch verteilten Benutzer miteinander zu spielen und zu kommunizieren. Benutzer verständigten sich dadurch, dass sie Text Nachrichten schrieben, die auf den Bildschirmen anderer Benutzer angezeigt wurden. Erste Anbieter konnten bereits 1997 bis zu 750 000 Abonnenten zählen \citep{uo08}. 

Anfang des neuen Jahrtausends brachten populäre grafische Mehrspieler-Online-Rollenspiele (MMORPGs) wie z.B. Sony's Everquest \footnote{Sony Entertainment, Version 15.03.2008, http://eqplayers.station.sony.com/} mehrere tausende Spieler zusammen, die eine virtuelle Welt erkunden, miteinander spielen und kommunizieren konnten. Den vorläufigen Höhepunkt in dieser Entwicklung bildet "`World of Warcraft"' \footnote{Blizzard Entertainment: World of Warcraft User Statistics, Version 15.03.2008, http://blizzard.co.uk/press/080122.shtml}, welches rasant an Abonnenten gewann und mittlerweile von 10 Millionen Spielern gespielt wird. 

Parallel zu Mehrspieler-Online-Rollenspielen entstanden auch virtuelle Welten wie There \footnote{Makena Technologies, Version 22.03.2008, http://www.there.com/}, Active Worlds \footnote{Activeworlds Inc., Version 22.03.2008, http://www.activeworlds.com/} und Second Life\footnote{LindenResearch Inc. , Version 22.03.2008, http://secondlife.com/}, die keinen konkurrenzbetonten Charakter besitzen, der üblicherweise mit Computerspielen verbunden wird. In diesen Welten liegt der Schwerpunkt auf dem Rollenspiel und der Sozialen Interaktion. 

Spieler virtueller Welten verbinden sich typischerweise in Spielergruppen, um entweder bei schwierigen Aufgaben zu kooperieren oder einfach die gegenseitige Gesellschaft zu genießen. Für viele macht vor allem die soziale Interaktion den fesselnden Charakter des Spiels aus. Über ein drittel aller Spieler pflegen diese Freundschaften auch in ihrem Alltag, die übrigen treffen sich ausschließlich online. 

\section{Motivation}

Bisher ist die Textkommunikation die vorherrschende Form der Verständigung in virtuellen Welten gewesen. Diese stammt noch aus Zeiten in denen Mehrspieler-Spiele nur innerhalb eines LANs gespielt wurden und Mitspieler sich in unmittelbarer Reichweite zueinander befanden. Oft war nicht einmal die Textkommunikation vonnöten, da Spieler im gleichen Raum saßen.

Eine textbasierte Kommunikation ist für viele Benutzer heute zur Routine geworden, wird aber in virtuellen 3D Welten vor neue Herausforderungen gestellt: Hier sind  Kommunikationskanäle gefragt die in Echtzeit durch eine dynamische Anzahl an Spielern und Spielergruppen geteilt und verwendet werden können. Die Textkommunikation kann diesen Forderungen nur schwer nachkommen, während die Sprachkommunikation diese erfüllen kann, wie später anhand ausgewählter Studien demonstriert wird. Ihr Einsatz in Spielen ist vor allem deswegen wichtig, weil nur Sprache eine schnelle, präzise und einfache Koordination bei komplexen Aufgabenstellungen untereinander erlaubt. Dies ist vor allem bei Mehrspieler Rollen- und Actionspielen der Fall, da hier ein schneller Informationsaustausch zwischen Mitspielern und Spielergruppen für den Spielerfolg entscheidend ist.

Eine integrierte Sprachkommunikation wird jedoch von den wenigsten Produkten unterstützt. 
Sowohl der technische Aufwand bei der Entwicklung und Betrieb von integrierten Konferenzlösungen, als auch die damit verbundenen Kosten haben Spiele-Hersteller bisher davon abgehalten eigene Konzepte zu entwickeln. 

Aufgrund des hohen Bedarfs nach solchen Lösungen, bieten seit einigen Jahren Drittanbieter ergänzende Konferenzlösungen speziell für Spiele an. Diese Hilfsprogramme ermöglichen es parallel zur Spielesitzung in Kanälen eine Audioverständigung aufzubauen. Diese Sprachkanäle sind wie ein Funksprechgerät konfiguriert: Normalerweise können alle Mitglieder eines Teams die auf dem gleichen Kanal verbunden sind, den Sprecher hören. Der Einsatz solcher virtuellen Funksprechgeräte, deren Pendant im wirklichen Leben vor allem in Kampfsituationen genutzt wird, zeigte sich auch in virtuellen Welten von Vorteil. Dieser führte letztendlich zur schnellen Adoption von Sprachkommunikation in Computerspielen und zur Tatsache, dass diese mittlerweile so populär geworden ist, dass viele Spielergruppen darauf bestehen, dass Mitglieder solche Hilfsprogramme benutzen.

Die Eifer mit der die Sprachkommunikation für online Spiele adoptiert wurde zeigt eindeutig, dass diese der Textkommunikation überlegen ist. Die bisher eingesetzten Lösungen funktionieren gut wenn kleine sich bereits kennende Gruppen gemeinsame Kanäle nutzen um ihre Taktik oder weiteres Vorgehen zu besprechen.

Der Hauptnachteil solcher Lösungen liegt vor allem darin, dass sie nicht in das Spiel integriert sind und so kein unmittelbarer Zusammenhang zwischen den Teilnehmern einer Konferenz und den Teilnehmern des Spieles besteht.

\subsection{Probleme der Sprachkommunikation}

Dadurch leiden diese Produkte vor allem unter vier Problemen: 

\begin{itemize}
	\item Die Teilnehmer einer Konferenz sind nicht in der Lage zu bestimmen welchen Spieler sie adressieren wollen und haben auch keine Kontrolle darüber wessen Audiosignal sie empfangen möchten. 
	\item Benutzer finden es schwer das Gesprochene in den Kopfhörern mit den Avataren auf ihren Monitoren zu verknüpfen.
	\item Spieler sind auf den Einsatz kostenpflichtiger Konferenzserver angewiesen, da das Abmischen des Audiostroms bisher zentral vorgenommen wird, was mit einer hohen Kapazitätsauslastung solcher dedizierten Server verbunden ist.
	\item Benutzen zu viele Spieler einen gemeinsamen Sprachkanal, ist dieser aufgrund der gegenseitigen Interferenzen schnell überlastet. Sind zu viele Stimmen auf einmal zu hören, sind die Teilnehmer nicht mehr in der Lage sind sich gegenseitig zu verstehen. 
\end{itemize}

\section{Ziel der Diplomarbeit}
In dieser Diplomarbeit soll eine Implementierung einer integrierten Sprachkommunikation für Spiele entwickelt werden, die keinen zentralen Konferenzserver zum Mischen des Audiostroms benutzt. Die Audioverbindung soll auf Peer-to-Peer Basis erfolgen, wobei nach Möglichkeit bereits bestehende Komponenten zu verwenden sind. 

Es soll anhand eines Prototyps untersucht werden, wie eine integrierte Sprach\-kommunikations\-lösung sinnvoll in Computerspielen eingesetzt werden kann. Dabei soll der Entwurf den Einfluss verschiedener Netzwerkarchitekturen und  Sprach\-übertragung\-s
tandards auf die Um\-setz\-bar\-keit einer solchen Lösung berücksichtigen.

Im Gegensatz zu bisherigen Alternativen, die eine feste Auswahl von Konferenzteilnehmern vorsehen, soll die Sprach\-kommunikation so implementiert werden, dass der Anwender spontan im Spiel mit jedem seiner Mitspieler kommunizieren kann. 

Als Echtzeit-Spiel soll eine offene 3D Engine genutzt werden, die es dem Spieler erlauben soll sich in einer 3D Welt mit seinen Mitspielern zu bewegen und mit ihnen in Kontakt zu treten. 
 
Zwischen Mitspielern sollen dynamisch Konferenzen aufgebaut werden, falls sich diese in einer zu definierenden "Hörnähe" befinden. Falls sie diese wieder verlassen, sollen entsprechende Konferenzen abgebaut werden, wobei zu überlegen ist, verschiedene Verbindungsstufen aufrechtzuerhalten. 

Ein solches Szenario soll sowohl eine interpersonnelle Kommunikation zwischen Mitspielern ermöglichen, indem sich nur 2 Spieler in Hörnähe befinden, als auch eine Massenkommunikation, bei der mehrere Spieler in gemeinsamer Nähe miteinander sprechen können.

Im Abschluss sollen die Auswirkungen einer solchen Lösung untersucht und Konsequenzen abgeleitet werden. 


%\section{Zwei schnell wachsende Märkte: VoIP und Computerspiele}
%\section{Von "`Tennis for Two"' bis zur Kommunikationsplattform}
%Ihre hohe Beliebtheit und Marktrelevanz haben Computerspiele vor allem ihrem stetigen Wandel zu verdanken. Sie entwickelten sich vom akademischen, nichtkommerziellen Nebenprodukt zu einer ausgereiften kommerziellen Spiele- und Kommunikationsplatform. Die akademischen Anfänge finden sich im Jahr 1958, als der Physiker Willy Higinbotham das Spiel "`Tennis for Two"' entwickelte, welches auf einem Osziloskop gespielt wurde. Diesem sollte im Jahre 1961 das Spiel "`Spacewar"' folgen, das an der Universität Stanford von Steve Russell entwickelt wurde \cite{CHM}. Erst weitere Jahre danach entstanden die ersten kommerziellen Computerspiele. "`Pong"' das im Jahre 1972 auf dem Atari System veröffentlicht wurde, wurde zur Sensation und zum ersten kommerziellen Erfolg. Als kommerzielle Produkte wurden Computerspiele in den 80er Jahren hauptsächlich in Spielhallen gespielt oder von Spielern auf einfachen Konsolen zu Hause. Dabei besaßen die bekanntesten Vertreter der ersten Generation wie Pacman oder Space Invaders nur einen Einzelspieler Modus. Das einzige Ziel des Spiels war das Erreichen der Höchstpunktzahl. 
%Ende der 80er Jahre verlagerte sich das Zentrum der Spieleindustrie nach Japan wo die ersten Generationen von Konsolenspielen großen kommerziellen Erfolg erreichten. Ein Hauptfaktor für den Erfolg war vor allem die Möglichkeit zuhause mit mehreren Freunden zeitgleich gegeneinadner zu spielen. Mitte der 90 er Jahre wurde der Personal Computer als Spieleplatform entdeckt. Vor allem durch das Konzept der Tastatur und Maus wurden neue Spielegenres ermöglicht, die durch durch eine "`point and click "' Steuerung mit Hilfe der Maus durch ihre Bedienfreundlichkeit überzeugten.  Zwar hatten sich Tastatur und Maus sich als sehr ergonomisches "`Single-Player-Interface"' behauptet, ermöglichten jedoch im Vergleich zu Spielekonsolen nur sehr eingeschränkte lokale Mehrspieler Möglichkeiten. 

%triggerhappy buch als quelle zu schwach.
%TODO ABSTRACT. 

%\section{Alte Motivation}
%Mit dem Aufkommen von Mehrspieler-Spielen wurde es auch zum ersten Mal nötig die Spielezustände der Mitspieler miteinander auszutauschen. Dies führte zur Einführung der Client- und Server-Architektur, in der ein zentraler Server die Spielelogik verwaltete und an Clients verteilte. Da man sich in LANs befand, musste ein solcher Server die Daten von 2 bis zu 1000 Spielern verwalten. 
%Mundane metaverses communicating vy voice in virtual worlds ---> INTRO
%\cite{wadley08}

%\section{Altes Ziel der Arbeit}
%In dieser Diplomarbeit sollen ein P2P basiertes Verfahren zur Sprachkommunikation für Spiele entwickelt werden. Statt propriäteren Lösungen wie Skype, soll ein offenes und bereits etabliertes Protokoll genutzt werden. Dabei sollen und Probleme und Chancen des Einsatzes eines solchen Protokolls zu erörtert und Lösungsvorschläge erarbeitet werden. Zum Einsatz soll das SIP Protokoll kommen, das bisher im Bereich des VoIP zu einem offenen Standard entwickelt hat, der auf Software- und Hardware-Ebene seit mehreren Jahren genutzt wird. Obwohl es sich im Ansatz um ein Client-Server-rotokoll handelt, bietet SIP zahlreiche Möglichkeiten es auch im P2P Modus zu betreiben, und es finden sich viele Anätze das Protokoll komplett dezentral einzusetzen.  
%Bisher ist der Einsatz von SIP im Bereich von Multispieler-Spielen noch nicht tiefgehend erforscht. Es soll  untersucht werden wie das SIP-Protokoll sinnvoll für eine standardisierte P2P-Schnittstelle zwischen Clients eingesetzt werden kann. Ebenfalls soll der zukünftige Einsatz von P2PSIP soll untersucht werden...TODO.
%Es soll eine Spiele-Implementierung entwickelt werden, die mit dem SIP Protokoll, den Datenaustausch zwischen Spielern ermöglicht. Dieser soll mit Hilfe des SIP-SIMPLE-Protokolls implementiert werden.Die Mehrspieler-Kommunikation, die bisher mit propriäterer Software gelöst wird und nicht mit der Spielelogik verzahnt ist, soll im Rahmen der Diplomarbeit in das Spiel integriert werden. So sollen zwischen Mitspielern dynamisch Konferenzen aufgebaut werden, falls sich diese in einer zu definierten "Hörnähe" befinden. Falls sich ein Mitspieler außerhalb der Hörnähe befindet, sollen entsprechende Konferenzen abgebaut werden, wobei zu überlegen ist, aber verschiedene Verbindungsstufen aufrechtzuerhalten. Zur Abblidung von Lokalen Audioereignissen soll eine weiteren Audiorendering-Engine in das Spiel integriert werden, die es ermöglichen kann  lokale Soundquellen zu positionieren und Audiodaten, die nicht über das Netzwerk zu übertragen sind, lokal zu verwalten. Die Implementierung soll mit Skype und Multicast-Sockets Netzwerklayern verglichen werden, es soll untersucht werden inwiefern die verschiedenen zugrunde liegenden Systeme miteinander vergleichbar sind. Unter diesem Aspekt soll analysiert werden, wie sich die Performace dieser Systeme in einem direkten Benchmark miteinander verhält.

%\subsection{Komplett neue Intro}
%Virtuelle Welten
%Voip in Virtuellen Welten
%DAS PROBLEM:
%DIE LÖSUNG:

\section{Aufbau der Arbeit}
\label{sec:aufbau-der-arbeit}

Die vorliegende Arbeit gliedert sich wie folgt:

\begin{itemize}
	\item \textbf{Kapitel 2} beschäftigt sich zunächst mit den Hintergründen und Grundlagen der Kommunikation, sowie einem Vergleich der Nutzung verschiedener Kommunikationsmedien in Computerspielen.
	\item \textbf{Kapitel 3} geht von den Ergebnissen des theoretischen Ansatzes in Kapitel 2 aus und leitet aus den Untersuchung bisheriger Lösungen sukzessive praktische Empfehlungen für eine Sprachkommunikationslösung ab.
	\item  \textbf{Kapitel 4} beschäftigt sich mit der technischen Grundlagen einer Implementierung und erläutert wichtige Bestandteile des gewählten Protokolls.
	\item \textbf {Kapitel 5} stellt relevante Arbeiten im Bereich der Sprachkommunikation vor und zeigt deren Vor und Nachteile.
	\item \textbf{Kapitel 6} bildet eine strukturierte Analyse möglicher Architekturen für eine Sprachübertragung. Entsprechende Vor- und Nachteile werden gegenübergestellt und eine Empfehlung für die Implementierung getroffen.
	\item \textbf{Kapitel 7} befasst sich mit der Implementierung des Prototyps und präsentiert ausgewählte Details und Probleme bei der Umsetzung.
	\item \textbf{Kapitel 8} zieht Konsequenzen der Nutzung des SIP Protokolls, und zeigt wie es zusätzlich als Netzwerkschicht eingesetzt werden kann. Im zweiten Teil werden ausgewählte Lösungen für P2P Spiele vorgestellt und der Einsatz eines komplett dezentralisierten SIP Protokolls erläutert. 
	\item \textbf{Kapitel 9} befasst sich mit der Frage wie sich die Performanz der Umsetzung quantitativ erfassen lässt und zeigt einige ausgewählte Messergebnisse. 
	\item \textbf{Kapitel 10} fasst die Details, die in dieser Arbeit geleistet wurden, noch einmal zusammen und geht auf noch offene Fragen und Verbesserungsmöglichkeiten ein.
	//TODO
\end{itemize}
%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "..\\da-beispiel"
%%% End: 
