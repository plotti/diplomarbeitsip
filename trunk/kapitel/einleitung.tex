\chapter{Einführung}
\label{chap:einleitung}

\section{Marktrelevanz}
Videospiele sind heutzutage eine der beliebtesten Formen der elektronischen Unterhaltung. Allein in Deutschland ist ihr Umsatz in diesem Jahr um 21\% auf 2,14 Millionen Euro gestiegen und es wird erwartet, dass dieser noch im laufenden Jahr sogar den Umsatz der Musikbranche übertreffen wird . 

---------
Eine von Ipoque \cite{ipoque:2007} durchgeführte Studie bei der drei Petabyte anonymer Daten von mehr als einer Million Nutzern in Australien, Deutschland, dem Nahen Osten, Ost- und Südeuropa erhoben worden zeigt, dass P2P Anwendungen im Internet mehr Verkehr als alle anderen Anwendungen zusammen erzeugen. Dabei zeigt die Studie, dass Voice over IP (VoIP) mittlerweile zu einer weitgenutzten Anwendung geworden ist, nicht zuletzt aufgrund des enormen Erfolges von Skype, das Dank seiner einfachen Nutzung und zuverlässiger Verbindungen unter restriktiven Netzwerkumgebungen hinter Firewalls oder bei Verwendung von Network Address Translation (NAT) zu einer der beliebtesten P2P Applikationen geworden ist. 
Unter den Privatpersonen ist die Internet-Telefonie besonders bei den 18- bis 24-Jährigen beliebt. In dieser Gruppe verwendet fast jeder Vierte seinen Breitbandanschluss, um mit Freunden und Bekannten zu sprechen, das zeigten aktuelle Studien der FGW Online und des E-Business-Watch \cite{E-Business:08}. 

----------
Parallel zur Entwicklung des VoIP Markets zeigen gleich mehrere große Studien belegen die zunehmende Marktrelevanz von Computerspielen, die vor allem bei den gleichen Zielgruppen beliebt sind. So zeigt die Studie von Ernst\&Young "Digitale Spiele in Deutschland" \cite{ErnstYoung:07}, dass der Umsatz mit Konsolen-Spielen und PC-Spielen 2007 um 21 Prozent auf 2,14 Milliarden Euro, allein in Deutschland gestiegen ist. Damit wird im laufenden Jahr erstmals die Marke von 2 Milliarden Euro erreicht. Ebenfalls erwartet eine die Studie German Entertainment and Media Outlook 2007-2011 von PriceWaterhouseCoopers (PwC) \cite{pwc:07}, dass in Deutschland im Jahr 2007 erstmals mehr Geld für Computer- und Videospiele als für Musik ausgegeben wird. Bis 2011 könnte der Umsatz der Ausgaben für Online- und Mobile-Games um jährlich 6,6 Prozent auf gut zwei Milliarden Euro wachsen. Weltweit wird der Umsatz der Unterhaltungs- und Medienindustrie bis 2010 auf 1,8 Billionen US-Dollar steigen. 

---------

Computerspiele entwickelten sich in circa 50 Jahren von eher technischen Versuchen an Universitäten zu einer der einflussreichsten Freizeitgestaltungsformen des 21. Jahrhunderts und sind heute zu einem Medium geworden, in dem sich tausende von Menschen aus der ganzen Welt treffen und miteinander spielen. Der Umsatz der weltweiten Computerspielbranche kletterte 2003 nach Angaben mehrerer Marktforschungsunternehmen wie JISC auf den Rekordwert von 19,2 Mrd. Euro und erreichte damit fast das Niveau der Filmindustrie. %\cite{printout1}


\section{Virtuelle Welten}

Durch den frühen Zugang des Personal Computers zu lokalen und globalen Netzwerken Ende der 90er Jahre bestand die Möglichkeit beliebteste Spielegenres mit Spielern auf der ganzen Welt zu spielen. Erste erfolgreiche kommerzielle Anbieter konnten 1997 bereits bis zu 750 000 Abonnenten zählen \citep{uo08}. Die Tendenz zum Spiel als Kommunikationsplattform wird heutzutage durch etliche große Anbieter bestätigt, die Spiele mit online Mehrspieler Funktionalität anbieten, bei denen bis zu 10 Millionen Spieler in Spielergruppen miteinander spielen und kommunizieren \citep{wow2.2}. Computerspiele sind zwar noch ein relativ neues Medium, welches jedoch eine stetige Entwicklung vorzuweisen hat. So ist aus Spielen mit akademischen Anfängen, über eine lange Zeit der Einzelspieler Spiele, ein Kommunikationsmedium geworden in dem die soziale Erfahrung des Spielens immer wichtiger wird.

Virtuelle online Welten haben seit den "Multi User Dungeons" (MUDs) der 1908er existiert. Diese Systeme erlaubten es Benutzern sich mit einem Spiele Server mit Hilfe eines lokalen Terminals oder einer Modems zu verbinden und mit anderen Benutzern in einer imaginären Welt zu interagieren. Die Interaktion mit der virtuellen Welt und mit den Benutzern war zunächst text-basiert. Es gab keine Bildschirmgrafiken und die Welt wurde durch Beschreibungen dargestellt: "Du läufst durch die Tür in einen Raum. Links neben dir steht ein Tisch..." 

Die ersten populären begehbarbaren 3D Grafik Mehrspieler Welten waren Netzwerkspiele die Mitte der 90er Jahre mit Namen wie Doom und Quake. Benutzer dieser "First Person Shooter" (FPS) Spiele vernetzten ihre PCs in einem LAN (Local Area Network), bei dem ein PC als der Server arbeitete. Dieser Server verwaltete sowohl die lokale virtuelle Welt als auch die anwesenden Spieler. Die Teilnehmer befanden sich gewöhnlich im gleichen Raum und brauchten so keine Telekommunikation (CMC) um sich zu verständigen. Sie sprachen einfach miteinander falls der Wunsch danach bestand. 

Später wurden diese Spiele auf das Internet ausgeweitet, die es geografisch verteilten Benutzern erlaubten miteinander zu spielen und mittels CMC zu kommunizieren. Benutzer verständigten sich dadurch, dass sie Text Nachrichten schrieben, die auf den Bildschirmen der anderen Benutzer angezeigt wurden. Dabei wurde die Nachricht einfach über das aktuelle Spielgeschehen überlagert, um den Benutzer nicht allzu sehr abzulenken.

Die Entwickler von Mehrspieler-Online-Rollenspielen (MMORPGs) verwendeten die Technologie der bisherigen internetfähigen FPS Spiele um Rollenspiele mehrspielerfähig zu machen. 
Das erste populäre grafische MMORPG, Sony's Everquest brachte mehrere tausende Spieler zusammen die eine virtuelle Welt erkunden konnten und miteinander spielen und kommunizieren konnten. Das populärste MMORPF World of Warcraft (WoW) das im Jahr 2004 eingeführt wurde, beherbergt heutzutage 8 Millionen Spieler, die in virtuellen Welten interagieren. 


WoW Spieler verbinden sich typischerweise in Gilden, um entweder bei schwierigen Aufgaben zu kooperieren oder einfach die Gegenseitige Gesellschaft zu genießen. Die größten solcher Gilden können bis zu einigen hundert Benutzen beherbergen, obwohl eine Gilde im Schnitt aus 30 Teilnehmern besteht. Gilden besitzen eine komplexe interne Gruppendynamik und sind oft hierarchisch organisiert. Für viele Spieler macht vor allem die soziale Interaktion den fesselnden Charakter des Spiels aus. Über ein drittel der existierenden Wow Gildenmitglieder pflegen auch Freundschaften in ihrem Alltag,  die übrigen Teilnehmer treffen sich nur online. 

Virtuelle Welten wie There, Active Worlds und Second Life haben dagegen keinen kriegerischen Charakter, der üblicherweise mit Computerspielen verbunden wird. In diesen Welten liegt der Schwerpunkt auf dem Rollenspiel und der Sozialen Interaktion. In SL gehört zusätzlich auch das Erschaffen und Handeln mit virtuellen Objekten zum Spielprinzip. 

Benutzer werden in diesen Welten als grafische individuell gestaltbare Avatare dargestellt. SL hat zunächst im Jahr 2003 synchronen text Chat zwischen Spielern ermöglicht, mittlerweile ist im Jahr 2007 auch eine VoIP Möglichkeit hinzugefügt worden. Die Benutzerinteraktion in SL ist synchron, mit dem Fokus auf Events, Meetings und Echtzeit Gesprächen, online Lehren, und Performance. 

\section{Bisherige Textkommunikation}

Bisher ist die Textkommunikation die vorherrschende Form der Verständigung in Computerspielen. Eine integrierte Sprachkommunikation hingegen wird von den wenigsten Produkten unterstützt . Sowohl der technische Aufwand bei der Entwicklung und Betrieb von integrierten Konferenzlösungen, als auch die damit verbundenen Kosten haben Spiele-Hersteller bisher davon abgehalten eigene Konzepte zu entwickeln. 

Eine Kommunikation in solchen Spielen war zunächst nicht vorhanden, doch mit dem Aufkommen des Mehrspieler-Spiels entstand die erste Stufe der Kommunikation(der Chat). Datenkommunikation Beim "Chatten" werden lediglich Textnachrichten zwischen einem oder mehreren Mitspielern ausgetauscht. Oft wurden Mehrspieler-Spiele auch nur innerhalb eines LANs gespielt, so dass immer noch eine direkte Sprachkommunikation zwischen den Mitspielern möglich war, weil sie sich z.B. immer noch im gleichen Raum oder Gebäude befanden. 

Text Basierte Computer befähigte Kommunikation Sprachkommunikation sind für viele Benutzer zur Routine geworden. Aber in virtuellen 3D Welten besitzen sie einen neuen Konext. Virtuelle welten sind fas aussschließlich für Freizeit vorgesehen. "Aufgaben" werden definiert durch Spielregeln und Einen Konsens der Spieler, werden aber trotzdem von vielen Benutzern ernst genommen. 

Kommunikationskanäle müssen durch eine dynamische Anzahl an Spielern und Spielergruppen geteilt und verwendet werden. Obwohl Spieler in fiktionalen Welten unterwegs sind, findet deren Benutzung in einer echten Umgebung statt, die den Spielverlauf stören kann. 



\section{Wichtige Bedeutung von Sprache}

Dabei ist der Einsatz von Sprachkommunikation in Spielen vor allem deswegen wichtig, weil nur Sprache eine schnelle, präzise und einfache Koordination bei komplexen Aufgabenstellungen untereinander erlaubt. Dies ist vor allem bei Mehrspieler Rollen- und Actionspielen der Fall, da hier ein schneller Informationsaustausch zwischen Mitspielern und Spielergruppen für den Spielerfolg entscheidend ist . 

Doch mit dem Aufkommen der MMORPGs (Massive(ly) Multiplayer Online Role-Playing Games), bei denen Mitspieler nun durch das Internet miteinander spielen und kommunizieren, kam es zu neuen Herausforderungen: 
Einerseits wurde eine lokale Sprachkommunikation unmöglich, da sich Spieler des gleichen Spiels auf verschiedenen Kontinenten befinden und andererseits mussten die zentralen Spieleserver nun Daten von bis zu 10 Millionen Spielern verwalten und verteilen. 

Durch die weite Verbreitung von schnellen Internet Anschlüssen haben FPS Spieler Drittanbieter VoIP Produkte wie TeamSpeak oder Ventrillo eingesetzt um in Echtzeit mit Freunden in online Spielen zu kommunizieren. Diese Sprachkanäle sind wie ein Funksprechgerät konfiguriert: Normalerweise können alle Mitglieder eines Teams die auf dem gleichen Kanal verbunden sind, den Sprecher hören. Es scheint nur passend dass virtuelle Funksprechgeräte, deren Pendant im wirklichen Leben auch in Kampfsituationen praktisch ist, genauso gerne in virtuellen Kämpfen eingesetzt werden. Spieler von schnellen Team basierten Spielen haben gelernt dass die Sprachkommunikation ihnen einen Vorteil gegenüber Spielern die die Textkommunikation benutzen. Dieser Vorteil führe letztendlich hat zur schnellen Adoption von VoIP in Computerspielen. 

Spieleentwickler haben auf diese Entwicklung reagiert indem sie bestehende FPS Spiele wie Counterstrike Source mit VoIP Funktionalität nachgerüstet haben. Die Xbob Live Konsole die im Jahr 2003 herausgebracht werde, bot einen Sprachkanal aber keinen Text Kanal. 

Diese Adoption hat genauso auch im MMORPG Genre stattgefunden. VoIP ist mittlerweile so populär geworden dass viele WoW gilden jetzt darauf bestehen dass Mitglieder es benutzen. Entwickler haben darauf reagiert indem sie in neue Genaration von MMORPGs VoIP integriert haben. 


\section{Drittanbieterlösungen und IST Zustand}
Aufgrund des hohen Bedarfs nach solchen Lösungen, bieten seit einigen Jahren Drittanbieter ergänzende Konferenzlösungen speziell für Spiele an. Diese Hilfsprogramme ermöglichen es parallel zur Spielesitzung eine Audioverständigung aufzubauen. Der Hauptnachteil solcher Lösungen liegt jedoch darin, dass sie nicht in das Spiel integriert sind und so kein unmittelbarer Zusammenhang zwischen den Teilnehmern einer Konferenz und den Teilnehmern des Spieles besteht.


\section{Resultierende Probleme, Motivation}


Die Eifer mit der VoIP für online Spiele adoptiert wurde zeigt eindeutig dass hier  die Sprachkommunikation der Textkommunikation überlegen ist. Trotzdem haben Studien gezeigt dass der Nutzen sehr situations abhängig ist. Es funktioniert gut wenn mehrere sich bereits kennende kleine Gruppen von Spielern ein schnelles taktisches Spiel spielen in dem die Taktik ausgetauscht werden soll. 

Wenn jedoch zu viele Leute einen Sprachkanal benutzen ist dieser Anfällig für Überlastung und Verwirrung. Die Einfachheit Sprache zu übertragen macht VoIP Kanäle anfällig für Missbrauch.  Manche Leute wollen auch nicht mit Fremden sprechen. Benutzer finden es auch schwer das Gesprochene in den Kopfhörern mit den Avataren auf ihren Monitoren zu verknüpfen. 

Sprachübertragungen im Gegensatz zu Text können nicht nur die Stimme des Spielers beinhalten, sondern auch Geräusche enthalten die in der unmittelbaren Entfernung zum Mikrofon stattfinden. 

Dadurch leiden diese Produkte vor allem unter zwei Problemen: 

"	Die Teilnehmer einer Konferenz sind nicht in der Lage zu bestimmen welchen Spieler sie adressieren wollen und haben auch keine Kontrolle darüber wessen Audiosignal sie empfangen möchten. 
"	Spieler sind auf den Einsatz kostenpflichtiger Konferenzserver angewiesen, da das Abmischen des Audiostroms bisher zentral vorgenommen wird, was mit einer hohen Kapazitätsauslastung solcher dedizierten Server verbunden ist.

\section{Ziel der Diplomarbeit}
In dieser Diplomarbeit soll eine Implementierung einer integrierten Sprachkommunikation für Spiele entwickelt werden, die keinen zentralen Konferenzserver zum Mischen des Audiostroms benutzt. Die Audioverbindung soll auf Peer-to-Peer Basis erfolgen, wobei nach Möglichkeit bereits bestehende Komponenten zu verwenden sind. 

Es soll anhand eines Prototyps untersucht werden, wie eine integrierte Sprachkommunikationslösung sinnvoll in Computerspielen eingesetzt werden kann. Dabei soll der Entwurf den Einfluss verschiedener Netzwerkarchitekturen und  Sprachübertragungstandards auf die Umsetzbarkeit einer solchen Lösung berücksichtigen.

Im Gegensatz zu bisherigen Alternativen, die eine feste Auswahl von Konferenzteilnehmern vorsehen, soll die Sprachkommunikation so implementiert werden, dass der Anwender spontan im Spiel mit jedem seiner Mitspieler kommunizieren kann. 

Als Echtzeit-Spiel soll eine offene 3D Engine genutzt werden, die es dem Spieler erlauben soll sich in einer 3D Welt mit seinen Mitspielern zu bewegen und mit ihnen in Kontakt zu treten. 
 
Zwischen Mitspielern sollen dynamisch Konferenzen aufgebaut werden, falls sich diese in einer zu definierenden "Hörnähe" befinden. Falls sie diese wieder verlassen, sollen entsprechende Konferenzen abgebaut werden, wobei zu überlegen ist, verschiedene Verbindungsstufen aufrechtzuerhalten. 

Ein solches Szenario soll sowohl eine interpersonnelle Kommunikation zwischen Mitspielern ermöglichen, indem sich nur 2 Spieler in Hörnähe befinden, als auch eine Massenkommunikation, bei der mehrere Spieler in gemeinsamer Nähe miteinander sprechen können.

Im Abschluss sollen die Auswirkungen einer solchen Lösung untersucht und Konsequenzen abgeleitet werden. 


%\section{Zwei schnell wachsende Märkte: VoIP und Computerspiele}
%\section{Von "`Tennis for Two"' bis zur Kommunikationsplattform}
%Ihre hohe Beliebtheit und Marktrelevanz haben Computerspiele vor allem ihrem stetigen Wandel zu verdanken. Sie entwickelten sich vom akademischen, nichtkommerziellen Nebenprodukt zu einer ausgereiften kommerziellen Spiele- und Kommunikationsplatform. Die akademischen Anfänge finden sich im Jahr 1958, als der Physiker Willy Higinbotham das Spiel "`Tennis for Two"' entwickelte, welches auf einem Osziloskop gespielt wurde. Diesem sollte im Jahre 1961 das Spiel "`Spacewar"' folgen, das an der Universität Stanford von Steve Russell entwickelt wurde \cite{CHM}. Erst weitere Jahre danach entstanden die ersten kommerziellen Computerspiele. "`Pong"' das im Jahre 1972 auf dem Atari System veröffentlicht wurde, wurde zur Sensation und zum ersten kommerziellen Erfolg. Als kommerzielle Produkte wurden Computerspiele in den 80er Jahren hauptsächlich in Spielhallen gespielt oder von Spielern auf einfachen Konsolen zu Hause. Dabei besaßen die bekanntesten Vertreter der ersten Generation wie Pacman oder Space Invaders nur einen Einzelspieler Modus. Das einzige Ziel des Spiels war das Erreichen der Höchstpunktzahl. 
%Ende der 80er Jahre verlagerte sich das Zentrum der Spieleindustrie nach Japan wo die ersten Generationen von Konsolenspielen großen kommerziellen Erfolg erreichten. Ein Hauptfaktor für den Erfolg war vor allem die Möglichkeit zuhause mit mehreren Freunden zeitgleich gegeneinadner zu spielen. Mitte der 90 er Jahre wurde der Personal Computer als Spieleplatform entdeckt. Vor allem durch das Konzept der Tastatur und Maus wurden neue Spielegenres ermöglicht, die durch durch eine "`point and click "' Steuerung mit Hilfe der Maus durch ihre Bedienfreundlichkeit überzeugten.  Zwar hatten sich Tastatur und Maus sich als sehr ergonomisches "`Single-Player-Interface"' behauptet, ermöglichten jedoch im Vergleich zu Spielekonsolen nur sehr eingeschränkte lokale Mehrspieler Möglichkeiten. 

%triggerhappy buch als quelle zu schwach.
%TODO ABSTRACT. 

%\section{Alte Motivation}
%Mit dem Aufkommen von Mehrspieler-Spielen wurde es auch zum ersten Mal nötig die Spielezustände der Mitspieler miteinander auszutauschen. Dies führte zur Einführung der Client- und Server-Architektur, in der ein zentraler Server die Spielelogik verwaltete und an Clients verteilte. Da man sich in LANs befand, musste ein solcher Server die Daten von 2 bis zu 1000 Spielern verwalten. 
%Mundane metaverses communicating vy voice in virtual worlds ---> INTRO
%\cite{wadley08}

%\section{Altes Ziel der Arbeit}
%In dieser Diplomarbeit sollen ein P2P basiertes Verfahren zur Sprachkommunikation für Spiele entwickelt werden. Statt propriäteren Lösungen wie Skype, soll ein offenes und bereits etabliertes Protokoll genutzt werden. Dabei sollen und Probleme und Chancen des Einsatzes eines solchen Protokolls zu erörtert und Lösungsvorschläge erarbeitet werden. Zum Einsatz soll das SIP Protokoll kommen, das bisher im Bereich des VoIP zu einem offenen Standard entwickelt hat, der auf Software- und Hardware-Ebene seit mehreren Jahren genutzt wird. Obwohl es sich im Ansatz um ein Client-Server-rotokoll handelt, bietet SIP zahlreiche Möglichkeiten es auch im P2P Modus zu betreiben, und es finden sich viele Anätze das Protokoll komplett dezentral einzusetzen.  
%Bisher ist der Einsatz von SIP im Bereich von Multispieler-Spielen noch nicht tiefgehend erforscht. Es soll  untersucht werden wie das SIP-Protokoll sinnvoll für eine standardisierte P2P-Schnittstelle zwischen Clients eingesetzt werden kann. Ebenfalls soll der zukünftige Einsatz von P2PSIP soll untersucht werden...TODO.
%Es soll eine Spiele-Implementierung entwickelt werden, die mit dem SIP Protokoll, den Datenaustausch zwischen Spielern ermöglicht. Dieser soll mit Hilfe des SIP-SIMPLE-Protokolls implementiert werden.Die Mehrspieler-Kommunikation, die bisher mit propriäterer Software gelöst wird und nicht mit der Spielelogik verzahnt ist, soll im Rahmen der Diplomarbeit in das Spiel integriert werden. So sollen zwischen Mitspielern dynamisch Konferenzen aufgebaut werden, falls sich diese in einer zu definierten "Hörnähe" befinden. Falls sich ein Mitspieler außerhalb der Hörnähe befindet, sollen entsprechende Konferenzen abgebaut werden, wobei zu überlegen ist, aber verschiedene Verbindungsstufen aufrechtzuerhalten. Zur Abblidung von Lokalen Audioereignissen soll eine weiteren Audiorendering-Engine in das Spiel integriert werden, die es ermöglichen kann  lokale Soundquellen zu positionieren und Audiodaten, die nicht über das Netzwerk zu übertragen sind, lokal zu verwalten. Die Implementierung soll mit Skype und Multicast-Sockets Netzwerklayern verglichen werden, es soll untersucht werden inwiefern die verschiedenen zugrunde liegenden Systeme miteinander vergleichbar sind. Unter diesem Aspekt soll analysiert werden, wie sich die Performace dieser Systeme in einem direkten Benchmark miteinander verhält.

%\subsection{Komplett neue Intro}
%Virtuelle Welten
%Voip in Virtuellen Welten
%DAS PROBLEM:
%DIE LÖSUNG:

\section{Aufbau der Arbeit}
\label{sec:aufbau-der-arbeit}

Hier den Aufbau der Arbeit erl{\"a}utern.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "..\\da-beispiel"
%%% End: 
