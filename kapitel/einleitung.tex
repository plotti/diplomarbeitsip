\chapter{Einführung}
\label{chap:einleitung}
Dieses Kapitel gibt zunächst einen Einblick auf Entwicklung der Sprachkommunikation in Mehrspieler-Computerspielen, die neue Herausforderungen das Kommunikationsmedium stellen. Anhand der Herausforderungen wird die Motivation für die Arbeit hergeleitet und die Marktrelevanz dieses Themas verdeutlicht. Abschließend werden konkrete Ziele für eine Umsetzung einer distanzbasierten Sprachkommunikation gestellt und eine Übersicht über den Aufbau der Arbeit gegeben.

%\section{Virtuelle Welten}
%Einen großen Anteil an der zunehmenden Beliebtheit von Computerspielen hat ihre zunehmende Etablierung als virtuelle Welt. Diese stellt für den Spieler die Regeln auf, nach denen gespielt wird, bietet aber gleichzeitig auch einen Ort, an dem man mit anderen Spielern in gleicher Art und Weise interagieren kann. 

%Virtuelle Welten haben bereits Ende der 80er Jahre als "Multi User Dungeons" (MUDs) existiert. Diese Systeme erlaubten es Teilnehmern, sich mit einem Spieleserver mit Hilfe eines lokalen Terminals oder eines Modems zu verbinden und mit anderen Benutzern eine imaginäre Welt zu erkunden. Die Interaktion mit der virtuellen Welt und mit den Spielern war zunächst textbasiert. Es gab keine Bildschirmgrafiken und die Welt wurde durch Beschreibungen dargestellt: "Du läufst durch die Tür in einen Raum. Links neben dir steht ein Tisch..." 

%Die ersten populären begehbaren 3D-Grafik-Mehrspieler-Welten waren lokale Netzwerkspiele, die Mitte der 90er Jahre entwickelt wurden und Namen wie "`Doom"'\footnote{id Software(1993), Version 22.03.2008, http://de.wikipedia.org/wiki/Doom}  und "`Quake"'\footnote{id Software(1996), Version 22.03.2008, http://de.wikipedia.org/wiki/Quake} trugen. Benutzer dieser "First Person Shooter" (FPS) Spiele vernetzten ihre PCs in einem LAN (Local Area Network), bei dem ein PC als der Server arbeitete. Dieser Server verwaltete sowohl die lokale virtuelle Welt als auch die anwesenden Spieler. Die Teilnehmer befanden sich gewöhnlich im gleichen Raum und brauchten so keine Telekommunikation um sich zu verständigen. Sie sprachen einfach miteinander, falls der Wunsch danach bestand. 

%Ende der 90er Jahre bestand durch den frühen Zugang des Personal Computers zu globalen Netzwerken die Möglichkeit, beliebte Action- und Rollenspiele mit Teilnehmern auf der ganzen Welt zu spielen. Die Ausweitung dieser Spiele auf das Internet erlaubte es geografisch verteilten Benutzern miteinander zu spielen und zu kommunizieren. Benutzer verständigten sich dadurch, dass sie Text-Nachrichten schrieben, die auf den Bildschirmen anderer Benutzer angezeigt wurden. Erste Anbieter konnten bereits 1997 bis zu 75 000 Abonnenten zählen \citep{uo08}. 

%Anfang des neuen Jahrtausends brachten populäre grafische Mehrspieler-Online-Rollenspiele (MMORPGs) wie z.B. Sony's Everquest\footnote{Sony Entertainment, Version 15.03.2008, http://eqplayers.station.sony.com/} mehrere tausende Spieler zusammen, die eine virtuelle Welt erkunden, miteinander spielen und kommunizieren konnten. Den vorläufigen Höhepunkt in dieser Entwicklung bildet "`World of Warcraft"', welches rasant an Abonnenten gewann und mittlerweile von 10 Millionen\footnote{Blizzard Entertainment: World of Warcraft User Statistics, Version 15.03.2008, http://blizzard.co.uk/press/080122.shtml} Spielern gespielt wird. 

%Virtuelle Welten stellen für den Spieler zunächst die Regeln auf, nach denen gespielt wird, bieten aber gleichzeitig auch einen Ort, an dem man mit anderen Spielern in gleicher Art und Weise interagieren kann. Spieler solcher Welten verbinden sich typischerweise in Spielergruppen, um entweder bei schwierigen Aufgaben zu kooperieren oder einfach die gegenseitige Gesellschaft zu genießen. Für viele macht vor allem die soziale Interaktion den fesselnden Charakter des Spiels aus. Über ein Drittel aller Spieler pflegen diese Freundschaften auch in ihrem Alltag, die übrigen treffen sich ausschließlich online.  

\section{Motivation}

Bisher ist die Textkommunikation die vorherrschende Form der Verständigung in Mehrspieler-Computerspielen gewesen. Sie stammt noch aus Zeiten, in denen diese nur innerhalb eines LANs gespielt wurden und Mitspieler sich in unmittelbarer Reichweite zueinander befanden. 

Die rasante Ausweitung dieser Spiele Ende der 90er Jahre auf das Internet erlaubte zum ersten mal geografisch verteilten Benutzern miteinander zu spielen und zu kommunizieren \citep{uo08}. Den vorläufigen Höhepunkt in dieser Entwicklung bildet das MMORPG (Massive Multiplayer Online Role Playing Game) "`World of Warcraft"', welches rasant an Abonnenten gewann und mittlerweile von 10 Millionen\footnote{Blizzard Entertainment: World of Warcraft User Statistics, Version 15.03.2008, http://blizzard.co.uk/press/080122.shtml} Spielern gespielt wird. Parallel zu Mehrspieler-Online-Rollenspielen entstanden auch virtuelle Welten wie There\footnote{Makena Technologies, Version 22.03.2008, http://www.there.com/}, Active Worlds\footnote{Activeworlds Inc., Version 22.03.2008, http://www.activeworlds.com/} und Second Life\footnote{LindenResearch Inc. , Version 22.03.2008, http://secondlife.com/}, die keinen konkurrenzbetonten Charakter besitzen, der üblicherweise mit Computerspielen verbunden wird sondern der Schwerpunkt auf der sozialen Interaktion liegt. 
 
Existierende Studien der computer-vermittelten Textkommunikation (Computer-Mediated-Communication Abk. CMC)  \cite{walther02} im Computerspielebereich zeigten schon Ende der 90er Jahre, das in solchen Welten der Wunsch nach einer sozialen Interaktion der Spieler untereinander bestand \cite{carter03}, \cite{pena04}. Diese machten auch deutlich, dass gerade bei den beliebten \textit{First-Person-Shootern} die Text-Kommunikation aufgrund ihrer nicht ausreichenden Mediarichchness\footnote{Siehe Abschnitt \ref{mediarichness}} \citep{rice92} ein ungenügendes Kommunikationsmedium darstellte, um komplizierte Telekooperationsaufgaben, wie z.B. das taktische Befehligen von mehreren Spielern in Echtzeit, zu lösen. 

Da Spieler bereits viele Tastatureingaben benötigten, um die Spielfigur zu steuern, waren sie so nur schwer in der Lage gleichzeitig per Texteingabe miteinander zu kommunizieren. Um diesen Wunsch zu kompensieren, bedienten sich gerade erfahrene Spieler oft Abkürzungen, Akronymen  und Emoticons um die Zeit zum Tippen so kurz wie möglich zu halten, und trotzdem Emotionen und Gefühle zu übertragen \cite{thon06}. In populären Mehrspieler-Spielen entstanden sogar Hierarchien, die auf der Erfahrung der Spieler und der Kenntnis dieses "`Insider"'-Wissen beruhten \cite{wright02}.
 
Die aus dieser Verhaltensweise resultierende vereinfachte Grammatik und Semantik, führte in vielen Fällen gerade bei Änfängern zu Missverständnissen \cite{riva01}. Zudem sah die Spielergemeinde zunehmend persönliche Kommunikationen in öffentlichen \textit{Chatkanälen} als "`Fehlverhalten"' \cite{morris06} an, da zu viele Gespräche die Übersichtlichkeit erschwerten.

Obwohl textbasierte Kommunikation bisher zur Routine in Mehrspielerspielen gehörte, werden heutzutage neue Herausforderungen an ein Kommunikationsmedium gestellt: Es sind  Kommunikationskanäle gefragt, die in Echtzeit durch eine dynamische Anzahl an Spielern und Spielergruppen geteilt und verwendet werden können. Gerade die Sprachkommunikation kann diese erfüllen kann und Ihr Einsatz in Spielen ist vor allem deswegen wichtig, weil nur Sprache eine schnelle, präzise und einfache Koordination bei komplexen Aufgabenstellungen untereinander erlaubt. Dies ist vor allem bei Mehrspieler Rollen- und Actionspielen der Fall, da hier ein schneller Informationsaustausch zwischen Mitspielern und Spielergruppen für den Spielerfolg entscheidend ist.

Eine integrierte Sprachkommunikation wird jedoch von den wenigsten Produkten unterstützt. Die Gründe liegen vor allem bei den verbundenen Kosten eines Betriebs von integrierten Konferenzlösungen. Spielehersteller, die zentrale Konferenzserver für alle Spieler ihres Spieles betreiben wollen, sehen sich mit einem immensen Datenaufkommen und Bedarf an Rechenleistung konfrontiert. Deren Betrieb und Wartung müssen entsprechend teuer eingekauft werden.
 
Aufgrund des hohen Bedarfs nach solchen Lösungen bieten Drittanbieter seit einigen Jahren  ergänzende Konferenzlösungen speziell für Spiele an. Diese sehen vor, dass dedizierte Server mit einer hohen Bandbreite und Rechenleistung von Spielergruppen eingekauft werden können, um darauf Audiokonferenzen abzuhalten. Hilfsprogramme auf Clientseite ermöglichen es dann parallel zur Spielesitzung in Kanälen auf solchen Servern eine Audioverständigung aufzubauen. Sprachkanäle solcher Programme sind wie ein Funksprechgerät konfiguriert: Normalerweise können alle Mitglieder eines Teams, die auf dem gleichen Kanal verbunden sind, den Sprecher hören. 

Der Einsatz solcher virtuellen Funksprechgeräte, deren Pendant im wirklichen Leben vor allem in Kampfsituationen genutzt wird, zeigte sich auch in virtuellen Welten von Vorteil. Dieser führte letztendlich zu einer so schnellen Adoption und Popularität von Sprachkommunikation in Computerspielen. Mittlerweile schreiben viele Spielergruppen die Benutzung solcher Hilfsprogramme für ihre Mitglieder sogar vor.

Der Eifer, mit der die Sprachkommunikation für Online-Spiele adoptiert wurde, zeigt eindeutig wie sehr diese der Textkommunikation überlegen ist. Die bisher eingesetzten Lösungen funktionieren gut, wenn kleine sich bereits kennende Gruppen gemeinsame Kanäle nutzen, um ihre Taktik oder weiteres Vorgehen zu besprechen.

Der Hauptnachteil solcher Lösungen liegt vor allem darin, dass sie nicht in das Spiel integriert sind und so kein unmittelbarer Zusammenhang zwischen den Teilnehmern einer Konferenz und den Teilnehmern des Spieles besteht.

Diese Produkte leiden vor allem unter vier Problemen: 

\begin{itemize}
	\item Die Teilnehmer einer Konferenz sind nicht in der Lage zu bestimmen, welchen Spieler sie adressieren wollen und haben auch keine Kontrolle darüber, wessen Audiosignal sie empfangen möchten. 
	\item Benutzer finden es schwer das Gesprochene in den Kopfhörern mit den Avataren auf ihren Monitoren zu verknüpfen.
	\item Spieler sind oft auf den Einsatz von kostenpflichtiger Konferenz-Servern angewiesen, da das Abmischen des Audiostroms zentral vorgenommen wird und mit einer hohen Bandbreiten- und Kapazitätsauslastung verbunden ist. Die meisten Privatanwender verfügen selbst kaum über die Bandbreiten- und Rechenkapazitäten, um solche Server zu betreiben. 	
	\item Benutzen zu viele Spieler einen gemeinsamen Sprachkanal, ist dieser aufgrund der gegenseitigen Interferenzen schnell überlastet. Bei zu vielen gleichzeitigen Stimmen, können die Teilnehmer sich nicht mehr gegenseitig verstehen. 
\end{itemize}

\section{Marktrelevanz}

Eine im Jahr 2007 von Ipoque \cite{ipoque:2007} durchgeführte Studie, bei der drei Petabyte anonymer Daten von mehr als einer Million Nutzern in Australien, Deutschland, dem Nahen Osten, Ost- und Südeuropa erhoben wurden, zeigt dass P2P-Anwendungen im Internet mehr Verkehr als alle anderen Anwendungen zusammen erzeugen. Dabei ist Voice over IP (VoIP) mittlerweile zu einer der beliebtesten Anwendungen geworden. Unter den Privatpersonen ist die Internet-Telefonie besonders bei den 18- bis 24-Jährigen beliebt. In dieser Gruppe verwendet fast jeder Vierte seinen Breitbandanschluss, um mit Freunden und Bekannten zu sprechen, das belegten aktuelle Studien der FGW Online und des E-Business-Watch \cite{E-Business:08}. 

Parallel zur rasanten Entwicklung des VoIP-Marktes weisen gleich mehrere große Studien auf die zunehmende Marktrelevanz von Computer- und Videospielen hin, die bei den gleichen Zielgruppen beliebt sind. So geben Studien von Ernst\&Young \cite{ErnstYoung:07} und PriceWaterhouseCoopers (PwC)\cite{pwc:07} an, dass allein in Deutschland ihr Umsatz in diesem Jahr um 21\% auf 2,14 Millionen Euro gestiegen ist und erwartet wird, dass dieser noch im laufenden Jahr sogar den Umsatz der Musikbranche übertreffen wird. Weltweit wird sogar ein Anstieg des Umsatzes der Unterhaltungs- und Medienindustrie bis 2011 auf 1,8 Billionen US-Dollar geschätzt. 

\section{Ziel der Diplomarbeit}

In dieser Diplomarbeit wird eine Implementierung einer integrierten Sprachkommunikation für Spiele entwickelt, die im Gegensatz zu bisherigen Lösungen, keinen zentralen Konferenz-Server zum Mischen des Audiostroms benutzt. Die Audioverbindung erfolgt auf Peer-to-Peer-Basis, wobei nach Möglichkeit bereits bestehende VoIP Komponenten verwendet werden. Ein solcher Ansatz soll nicht nur helfen Kosten zu sparen, indem die Bandbreite und Rechenleistung von Teilnehmern gestellt wird, sondern ihnen auch eine bessere Kontrolle über Audiokonferenzen ermöglichen.

Anhand eines Prototyps soll untersucht werden, wie eine integrierte Sprach\-kommunikations\-lösung sinnvoll in Computerspielen eingesetzt werden kann. Dazu werden im theoretischen Teil der Arbeit bisherige Studien der Sprachkommunikation ausgewertet und sukzessive Verbesserungsvorschläge abgeleitet sondern auch beim Entwurf der Einfluss verschiedener Netzwerkarchitekturen und  Sprach\-übertragungs\-standards auf die Um\-setz\-bar\-keit einer solchen Lösung berücksichtigt.

Als Echtzeit-Spiel soll eine offene 3D-Engine genutzt werden, die es dem Spieler erlaubt sich in einer 3D-Welt mit seinen Mitspielern zu bewegen und mit ihnen in Kontakt zu treten. 

Im Gegensatz zu bisherigen Alternativen, die eine feste Auswahl von Konferenz\-teilnehmern vorsehen, ist das Ziel die Sprach\-kommunikation so zu implementieren, dass der Anwender spontan im Spiel mit jedem seiner Mitspieler kommunizieren kann. Dazu werden zwischen Mitspielern dynamisch Konferenzen aufgebaut, falls sich diese in einer zu definierenden "Hörnähe" befinden. Falls sie diese wieder verlassen, findet ein Abbau entsprechender Konferenzen statt, wobei zu überlegen ist, verschiedene Verbindungsstufen aufrecht zu erhalten. 

Ein solches Szenario ermöglicht sowohl eine interpersonelle Kommunikation zwischen Mitspielern, indem sich nur 2 Spieler in Hörnähe befinden, als auch eine Massenkommunikation, bei der mehrere Spieler in gemeinsamer Nähe miteinander sprechen können.

Im Abschluss der Arbeit werden die Auswirkungen einer solchen Lösung untersucht und Konsequenzen abgeleitet. 

\section{Aufbau der Arbeit}
\label{sec:aufbau-der-arbeit}

Die vorliegende Arbeit gliedert sich wie folgt:

\begin{itemize}
	\item \textbf{Kapitel 2} liefert Hintergründen und Grundlagen der Kommunikation. 
	\item \textbf{Kapitel 3} leitet aus den Untersuchungen bisheriger Lösungen sukzessive praktische Empfehlungen für eine Sprachkommunikationslösung ab. Dabei werden Konzepte des theoretischen Ansatzes aus Kapitel verwendet.
	\item  \textbf{Kapitel 4} beschäftigt sich mit den technischen Grundlagen einer Implementierung und erläutert wichtige Bestandteile des gewählten Protokolls.
	\item \textbf {Kapitel 5} stellt relevante Arbeiten im Bereich der Sprachkommunikation vor und zeigt deren Vor- und Nachteile.
	\item \textbf{Kapitel 6} bildet eine strukturierte Analyse möglicher Architekturen für eine Sprachübertragung. Entsprechende Vor- und Nachteile werden gegenüber\-gestellt und eine Empfehlung für die Implementierung getroffen.
	\item \textbf{Kapitel 7} befasst sich mit der Implementierung des Prototyps und präsentiert ausgewählte Details und Probleme bei der Umsetzung.
	\item \textbf{Kapitel 8} zieht Konsequenzen aus der Nutzung des SIP-Protokolls und zeigt wie es zusätzlich als Netzwerkschicht eingesetzt werden kann. Im zweiten Teil werden ausgewählte Lösungen für P2P-Spiele vorgestellt und der Einsatz eines komplett dezentralisierten SIP-Protokolls erläutert. 
	\item \textbf{Kapitel 9} stellt anhand ausgewählter Messergenisse vor, wie das Resultat der Umsetzung quantitativ erfasst wurde. 
	\item \textbf{Kapitel 10} fasst die Aufgaben, die in dieser Arbeit geleistet wurden, noch einmal zusammen und geht auf noch offene Fragen und Verbesserungs\-möglichkeiten ein.
\end{itemize}


%\section{Zwei schnell wachsende Märkte: VoIP und Computerspiele}
%\section{Von "`Tennis for Two"' bis zur Kommunikationsplattform}
%Ihre hohe Beliebtheit und Marktrelevanz haben Computerspiele vor allem ihrem stetigen Wandel zu verdanken. Sie entwickelten sich vom akademischen, nichtkommerziellen Nebenprodukt zu einer ausgereiften kommerziellen Spiele- und Kommunikationsplatform. Die akademischen Anfänge finden sich im Jahr 1958, als der Physiker Willy Higinbotham das Spiel "`Tennis for Two"' entwickelte, welches auf einem Osziloskop gespielt wurde. Diesem sollte im Jahre 1961 das Spiel "`Spacewar"' folgen, das an der Universität Stanford von Steve Russell entwickelt wurde \cite{CHM}. Erst weitere Jahre danach entstanden die ersten kommerziellen Computerspiele. "`Pong"' das im Jahre 1972 auf dem Atari System veröffentlicht wurde, wurde zur Sensation und zum ersten kommerziellen Erfolg. Als kommerzielle Produkte wurden Computerspiele in den 80er Jahren hauptsächlich in Spielhallen gespielt oder von Spielern auf einfachen Konsolen zu Hause. Dabei besaßen die bekanntesten Vertreter der ersten Generation wie Pacman oder Space Invaders nur einen Einzelspieler Modus. Das einzige Ziel des Spiels war das Erreichen der Höchstpunktzahl. 
%Ende der 80er Jahre verlagerte sich das Zentrum der Spieleindustrie nach Japan wo die ersten Generationen von Konsolenspielen großen kommerziellen Erfolg erreichten. Ein Hauptfaktor für den Erfolg war vor allem die Möglichkeit zuhause mit mehreren Freunden zeitgleich gegeneinadner zu spielen. Mitte der 90 er Jahre wurde der Personal Computer als Spieleplatform entdeckt. Vor allem durch das Konzept der Tastatur und Maus wurden neue Spielegenres ermöglicht, die durch durch eine "`point and click "' Steuerung mit Hilfe der Maus durch ihre Bedienfreundlichkeit überzeugten.  Zwar hatten sich Tastatur und Maus sich als sehr ergonomisches "`Single-Player-Interface"' behauptet, ermöglichten jedoch im Vergleich zu Spielekonsolen nur sehr eingeschränkte lokale Mehrspieler Möglichkeiten. 

%triggerhappy buch als quelle zu schwach.
%TODO ABSTRACT. 

%\section{Alte Motivation}
%Mit dem Aufkommen von Mehrspieler-Spielen wurde es auch zum ersten Mal nötig die Spielezustände der Mitspieler miteinander auszutauschen. Dies führte zur Einführung der Client- und Server-Architektur, in der ein zentraler Server die Spielelogik verwaltete und an Clients verteilte. Da man sich in LANs befand, musste ein solcher Server die Daten von 2 bis zu 1000 Spielern verwalten. 
%Mundane metaverses communicating vy voice in virtual worlds ---> INTRO
%\cite{wadley08}

%\section{Altes Ziel der Arbeit}
%In dieser Diplomarbeit sollen ein P2P basiertes Verfahren zur Sprachkommunikation für Spiele entwickelt werden. Statt propriäteren Lösungen wie Skype, soll ein offenes und bereits etabliertes Protokoll genutzt werden. Dabei sollen und Probleme und Chancen des Einsatzes eines solchen Protokolls zu erörtert und Lösungsvorschläge erarbeitet werden. Zum Einsatz soll das SIP Protokoll kommen, das bisher im Bereich des VoIP zu einem offenen Standard entwickelt hat, der auf Software- und Hardware-Ebene seit mehreren Jahren genutzt wird. Obwohl es sich im Ansatz um ein Client-Server-rotokoll handelt, bietet SIP zahlreiche Möglichkeiten es auch im P2P Modus zu betreiben, und es finden sich viele Anätze das Protokoll komplett dezentral einzusetzen.  
%Bisher ist der Einsatz von SIP im Bereich von Multispieler-Spielen noch nicht tiefgehend erforscht. Es soll  untersucht werden wie das SIP-Protokoll sinnvoll für eine standardisierte P2P-Schnittstelle zwischen Clients eingesetzt werden kann. Ebenfalls soll der zukünftige Einsatz von P2PSIP soll untersucht werden...TODO.
%Es soll eine Spiele-Implementierung entwickelt werden, die mit dem SIP Protokoll, den Datenaustausch zwischen Spielern ermöglicht. Dieser soll mit Hilfe des SIP-SIMPLE-Protokolls implementiert werden.Die Mehrspieler-Kommunikation, die bisher mit propriäterer Software gelöst wird und nicht mit der Spielelogik verzahnt ist, soll im Rahmen der Diplomarbeit in das Spiel integriert werden. So sollen zwischen Mitspielern dynamisch Konferenzen aufgebaut werden, falls sich diese in einer zu definierten "Hörnähe" befinden. Falls sich ein Mitspieler außerhalb der Hörnähe befindet, sollen entsprechende Konferenzen abgebaut werden, wobei zu überlegen ist, aber verschiedene Verbindungsstufen aufrechtzuerhalten. Zur Abblidung von Lokalen Audioereignissen soll eine weiteren Audiorendering-Engine in das Spiel integriert werden, die es ermöglichen kann  lokale Soundquellen zu positionieren und Audiodaten, die nicht über das Netzwerk zu übertragen sind, lokal zu verwalten. Die Implementierung soll mit Skype und Multicast-Sockets Netzwerklayern verglichen werden, es soll untersucht werden inwiefern die verschiedenen zugrunde liegenden Systeme miteinander vergleichbar sind. Unter diesem Aspekt soll analysiert werden, wie sich die Performace dieser Systeme in einem direkten Benchmark miteinander verhält.

%\subsection{Komplett neue Intro}
%Virtuelle Welten
%Voip in Virtuellen Welten
%DAS PROBLEM:
%DIE LÖSUNG:

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "..\\da-beispiel"
%%% End: 
