\chapter{Einführung}
\label{chap:einleitung}
%Dieses Kapitel gibt zunächst einen Einblick auf Entwicklung der Sprachkommunikation in Mehrspieler-Computerspielen, die neue Herausforderungen das Kommunikationsmedium stellen. Anhand dieser wird die Motivation für die Arbeit hergeleitet und die Marktrelevanz dieses Themas verdeutlicht. Abschließend werden konkrete Ziele für eine Umsetzung einer distanzbasierten Sprachkommunikation gestellt und eine Übersicht über den Aufbau der Arbeit gegeben.

%\section{Virtuelle Welten}

\section{Motivation}
Aktuelle 3D-Mehrspieler-Computerspiele betonen vor allem die Interaktion des Spielers mit dem Spiel, indem die 3D-Welten immer fotorealistischer und detailgetreuer werden. Die Sprachkommunikation der Spieler untereinander ist allerdings zum großen Teil nicht in diese Spiele integriert und wird nur mit Hilfe von unflexiblen, störanfälligen und kostenpflichtigen Drittanbieter-Lösungen ermöglicht, bei denen die Konversation nicht mit den Avataren auf dem Bildschirm des Spielers verknüpft ist. 

Durch die rasante Entwicklung von Mehrspieler-Computerspielen sind mittlerweile Millionen\footnote{Blizzard Entertainment: World of Warcraft User Statistics, Seite besucht 15.03.2008, http://blizzard.co.uk/press/080122.shtml} von geografisch verteilten Nutzern in der Lage miteinander zu spielen und zu kommunizieren. Neben dem klassischen konkurrenzbetonten Charakter tritt auch der soziale Charakter von Spielen, die in virtuellen Welten wie There\footnote{Makena Technologies, Seite besucht 22.03.2008, http://www.there.com/}, Active Worlds\footnote{Activeworlds Inc., Seite besucht 22.03.2008, http://www.activeworlds.com/} und Second Life\footnote{LindenResearch Inc. , Seite besucht 22.03.2008, http://secondlife.com/} stattfinden, immer mehr in den Vordergrund. 

Lange Zeit war die Textkommunikation das einzige integrierte Kommunikationsmedium, das eine Verständigung in Mehrspieler-Computerspielen erlaubte. Textkommunikation stellte aber aufgrund ihrer nicht ausreichenden Medienreichhaltigkeit (Mediarichness\footnote{Siehe Abschnitt \ref{mediarichness}}) \citep{rice92}, ein unzureichendes Kommunikationsmedium dar, um komplizierte Telekooperationsaufgaben, wie z. B. das taktische Befehligen von mehreren Spielern in Echtzeit zu lösen \cite{carter03}, \cite{pena04}, \cite{thon06}. Deswegen wurde sie zunehmend von der Sprachkommunikation abgelöst. 

Auf der Seite der Spielehersteller wird jedoch eine integrierte Sprachkommunikation bei den wenigsten Spielen unterstützt, da der Betrieb serverbasierter Konferenzserver für alle Spieler mit immensen Betreiberkosten für das Datenaufkommen und die Rechenleistung verbunden ist. Aufgrund des hohen Bedarfs an derartigen Lösungen bieten Drittanbieter seit einigen Jahren ergänzende Konferenzlösungen speziell für Spiele an. Diese sehen vor, dass dedizierte Server mit einer hohen Bandbreite und Rechenleistung von Spielergruppen eingekauft werden, um darauf Audiokonferenzen abzuhalten. Da Sprache eine schnelle, präzise und einfache Koordination bei komplexen Aufgabenstellungen untereinander erlaubt, wurde ihr Einsatz zunehmend für den Spielerfolg entscheidend. Diese Tatsache führte letztendlich zu einer schnellen Verbreitung und Popularität solcher Lösungen. 

Der Hauptnachteil solcher Lösungen liegt vor allem darin, dass sie nicht in das Spiel integriert sind und daher kein unmittelbarer Zusammenhang zwischen den Teilnehmern einer Konferenz und den Teilnehmern des Spieles besteht. Die Teilnehmer solcher Massenkonferenzen sind nicht in der Lage, zu bestimmen, welchen Spieler sie adressieren möchten und haben auch keine Kontrolle darüber, wessen Audiosignal sie empfangen möchten. Benutzer finden es schwer, das Gesprochene in den Kopfhörern mit den Avataren auf ihren Monitoren zu verknüpfen. Da alle Spieler einen gemeinsamen Sprachkanal benutzen, wird dieser schnell unverständlich, wenn zu viele Teilnehmer gleichzeitig sprechen. Die Teilnahme an solchen Konferenzen muss schon vor dem Spiel konfiguriert werden und erlaubt deswegen auch keine spontane Kommunikation mit einem beliebigen Teilnehmer während des Spiels. Da die meisten Anwender darüber hinaus selbst kaum über die Bandbreiten- und Rechenkapazitäten verfügen, um privat solche Konferenzserver zu betreiben, sind sie auf den Einsatz kostenpflichtiger dedizierter Konferenzserver angewiesen. 

Der Eifer, mit der die Sprachkommunikation für Mehrspieler-Computerspiele trotz dieser Probleme adoptiert wurde, zeigt eindeutig wie hoch der Bedarf an solchen Lösungen ist. Bei den potenziellen Nutzern derartiger Anwendungen spricht man von einer Spielergemeinde, die der Industrie allein in Deutschland einen Umsatz von 2,14 Milliarden Euro beschert hat. Es wird erwartet, dass der Umsatz noch im laufenden Jahr jenen der Musikbranche übertreffen wird \cite{ErnstYoung:07}, \cite{pwc:07}. 

Obwohl die Steuerung von Konferenzen mittlerweile seit Jahren erforscht wird, existieren bislang keine innovativen Methoden, die bei einem so großen Markt Anwendung gefunden hätten. Dies ist darauf zurückzuführen, dass die oben genannten Probleme zwar weitgehend durch medienpsychologische Studien bekannt sind, dennoch nahezu keine Schnittmenge aus existierenden Ansätzen vorhanden ist, die sich mit der technischen Seite der Realisierung von Audiokonferenzen und den Bedürfnissen der Spielergemeinde befasst. Die Industrie hingegen verlässt sich auf proprietäre klassische Lösungen, die nicht in der Lage sind, die genannten Probleme zu adressieren.

\section{Ziel der Diplomarbeit}

In dieser Diplomarbeit wird eine Implementierung einer integrierten Sprachkommunikation für Spiele entwickelt, die im Gegensatz zu bisherigen Lösungen keinen zentralen Konferenz-Server zum Mischen des Audiostroms benutzt. Die Audioverbindung erfolgt auf Peer-to-Peer-Basis, wobei nach Möglichkeit bereits bestehende VoIP-Komponenten verwendet werden. Ein solcher Ansatz soll nicht Kosteneinsparungen ermöglichen, indem die Bandbreite und Rechenleistung von Teilnehmern gestellt wird, sondern ihnen auch eine bessere Kontrolle über Audiokonferenzen geben. 

Anhand eines Prototyps wird untersucht, wie eine integrierte Sprach\-kommuni\-kations\-lösung sinnvoll in Computerspielen eingesetzt werden kann. Dazu werden im theoretischen Teil der Arbeit bisherige Studien der Sprachkommunikation ausgewertet und sukzessive Verbesserungsvorschläge abgeleitet. Darüber hinaus wird beim Entwurf einer solchen Lösung der Einfluss verschiedener Netzwerkarchitekturen und Sprach\-übertragungs\-standards auf die Um\-setz\-bar\-keit berück\-sichtigt. Als Echtzeit-Spiel wird eine offene 3D-Engine genutzt, die es dem Spieler erlaubt, sich in einer 3D-Welt mit seinen Mitspielern zu bewegen und mit ihnen in Kontakt zu treten.  

Im Gegensatz zu bisherigen Alternativen, die eine feste Auswahl von Konferenz\-teilnehmern vorsehen, ist das Ziel, die Sprach\-kommunikation derart zu implementieren, dass der Anwender spontan im Spiel mit jedem seiner Mitspieler kommunizieren kann. Dazu werden zwischen Mitspielern dynamisch Konferenzen aufgebaut, falls sich diese in einer zu definierenden "Hörnähe" befinden. Sobald sie diese wieder verlassen, findet ein Abbau entsprechender Konferenzen statt. Hierbei gilt es zu überlegen, verschiedene Verbindungsstufen aufrechtzuerhalten. Im Schlussteil der Arbeit werden die Auswirkungen einer solchen Lösung untersucht und Konsequenzen abgeleitet. 

%Ein solches Szenario ermöglicht sowohl eine interpersonelle Kommunikation zwischen Mitspielern, indem sich nur 2 Spieler in Hörnähe befinden, als auch eine Massenkommunikation, bei der mehrere Spieler in gemeinsamer Nähe miteinander sprechen können.

\section{Aufbau der Arbeit}
\label{sec:aufbau-der-arbeit}

Die vorliegende Arbeit gliedert sich wie folgt:

Zunächst werden in \textit{Kapitel 2} die Grundlagen der Kommunikation vorgestellt. Diese werden in \textit{Kapitel 3} genutzt, um die Ergebnisse von Untersuchungen bisheriger Sprachkommunikationslösungen einzugliedern, gemeinsame Ursachen für Probleme zu finden und innovative Konzepte für eine bessere Lösung zu erarbeiten. So sollen in dieser Arbeit nicht nur technische Herausforderungen einer integrierten Sprach\-kommunikations\-lösung diskutiert werden, sondern auch Schwächen in der Benutzer\-freundlichkeit bisheriger Programme durch die Einführung von Sprach\-übertragungs\-metaphern und Mehrkanal-Modellen kompensiert werden. 

Die für eine technische Umsetzung notwendigen Grundlagen und wichtige Bestandteile des gewählten Protokolls werden in Kapitel \textit{Kapitel 4} vorgestellt. \textit{Kapitel 5} bietet eine Übersicht relevanter Arbeiten im Bereich der Sprachkommunikation in Mehrspieler-Computerspielen und zeigt ihre Vor- und Nachteile. Dieses Kapitel erfordert technische VoIP-Grundlagen aus \textit{Kapitel 4}. 

Da die Umsetzung einer Sprachkommunikation auch an die darunter liegende Architektur geknüpft ist, aber noch keine strukturierte Analyse von SIP-Protokoll-basierten Lösungen und ihrer Tauglichkeit für Sprachkommunikationslösungen existiert, wird diese in \textit{Kapitel 6} vorgenommen und eine Empfehlung für die Implementierung eines hybriden Unicast-Ansatzes getroffen. Dieses Kapitel geht auch auf die resultierenden Bandbreitenprobleme der gewählten Architektur ein und stellt eigene Konzepte vor, wie anhand eines Partial-Mesh-Ansatzes, bei dem nur relevante Audioverbindungen etabliert werden, Bandbreite eingespart werden kann. 

\textit{Kapitel 7} befasst sich mit der Implementierung eines Spiel-Prototyps auf Basis eines hybriden SIP Unicast-Ansatzes und präsentiert ausgewählte Details und Probleme bei der Umsetzung. Hauptaugenmerk liegt dabei auf der technischen Umsetzung der in \textit{Kapitel 3} vorgestellten distanzbasierten Sprachkommunikation, dem Einfluss der Zonenkonzepte auf die verwendete Bandbreite und der Zusammenarbeit der 3D-Welt mit der VoIP-Anwendung. 

Da sich bereits in \textit{Kapitel 6 und 7} abzeichnet, dass das gewählte Protokoll auch für mehr als VoIP nutzbar ist, wird in \textit{Kapitel 8} gezeigt, wie das gewählte SIP-Protokoll als Netzwerkschicht eingesetzt werden kann. Dabei wird auch die Implementierung der SIP-basierten Netzwerkschnittstelle des Prototypen erläutert.

In Kapitel \textit{Kapitel 9} wird das Resultat der Umsetzung anhand von Messergebnissen erfasst. \textit{Kapitel 10} fasst die Aufgaben, die in dieser Arbeit geleistet wurden, noch einmal zusammen und geht auf noch offene Fragen und Verbesserungs\-möglichkeiten ein.

%\section{Zwei schnell wachsende Märkte: VoIP und Computerspiele}
%\section{Von "`Tennis for Two"' bis zur Kommunikationsplattform}
%Ihre hohe Beliebtheit und Marktrelevanz haben Computerspiele vor allem ihrem stetigen Wandel zu verdanken. Sie entwickelten sich vom akademischen, nichtkommerziellen Nebenprodukt zu einer ausgereiften kommerziellen Spiele- und Kommunikationsplatform. Die akademischen Anfänge finden sich im Jahr 1958, als der Physiker Willy Higinbotham das Spiel "`Tennis for Two"' entwickelte, welches auf einem Osziloskop gespielt wurde. Diesem sollte im Jahre 1961 das Spiel "`Spacewar"' folgen, das an der Universität Stanford von Steve Russell entwickelt wurde \cite{CHM}. Erst weitere Jahre danach entstanden die ersten kommerziellen Computerspiele. "`Pong"' das im Jahre 1972 auf dem Atari System veröffentlicht wurde, wurde zur Sensation und zum ersten kommerziellen Erfolg. Als kommerzielle Produkte wurden Computerspiele in den 80er Jahren hauptsächlich in Spielhallen gespielt oder von Spielern auf einfachen Konsolen zu Hause. Dabei besaßen die bekanntesten Vertreter der ersten Generation wie Pacman oder Space Invaders nur einen Einzelspieler Modus. Das einzige Ziel des Spiels war das Erreichen der Höchstpunktzahl. 
%Ende der 80er Jahre verlagerte sich das Zentrum der Spieleindustrie nach Japan wo die ersten Generationen von Konsolenspielen großen kommerziellen Erfolg erreichten. Ein Hauptfaktor für den Erfolg war vor allem die Möglichkeit zuhause mit mehreren Freunden zeitgleich gegeneinadner zu spielen. Mitte der 90 er Jahre wurde der Personal Computer als Spieleplatform entdeckt. Vor allem durch das Konzept der Tastatur und Maus wurden neue Spielegenres ermöglicht, die durch durch eine "`point and click "' Steuerung mit Hilfe der Maus durch ihre Bedienfreundlichkeit überzeugten.  Zwar hatten sich Tastatur und Maus sich als sehr ergonomisches "`Single-Player-Interface"' behauptet, ermöglichten jedoch im Vergleich zu Spielekonsolen nur sehr eingeschränkte lokale Mehrspieler Möglichkeiten. 

%triggerhappy buch als quelle zu schwach.
%TODO ABSTRACT. 

%\section{Alte Motivation}
%Mit dem Aufkommen von Mehrspieler-Spielen wurde es auch zum ersten Mal nötig die Spielezustände der Mitspieler miteinander auszutauschen. Dies führte zur Einführung der Client- und Server-Architektur, in der ein zentraler Server die Spielelogik verwaltete und an Clients verteilte. Da man sich in LANs befand, musste ein solcher Server die Daten von 2 bis zu 1000 Spielern verwalten. 
%Mundane metaverses communicating vy voice in virtual worlds ---> INTRO
%\cite{wadley08}

%\section{Altes Ziel der Arbeit}
%In dieser Diplomarbeit sollen ein P2P basiertes Verfahren zur Sprachkommunikation für Spiele entwickelt werden. Statt propriäteren Lösungen wie Skype, soll ein offenes und bereits etabliertes Protokoll genutzt werden. Dabei sollen und Probleme und Chancen des Einsatzes eines solchen Protokolls zu erörtert und Lösungsvorschläge erarbeitet werden. Zum Einsatz soll das SIP Protokoll kommen, das bisher im Bereich des VoIP zu einem offenen Standard entwickelt hat, der auf Software- und Hardware-Ebene seit mehreren Jahren genutzt wird. Obwohl es sich im Ansatz um ein Client-Server-rotokoll handelt, bietet SIP zahlreiche Möglichkeiten es auch im P2P Modus zu betreiben, und es finden sich viele Anätze das Protokoll komplett dezentral einzusetzen.  
%Bisher ist der Einsatz von SIP im Bereich von Multispieler-Spielen noch nicht tiefgehend erforscht. Es soll  untersucht werden wie das SIP-Protokoll sinnvoll für eine standardisierte P2P-Schnittstelle zwischen Clients eingesetzt werden kann. Ebenfalls soll der zukünftige Einsatz von P2PSIP soll untersucht werden...TODO.
%Es soll eine Spiele-Implementierung entwickelt werden, die mit dem SIP Protokoll, den Datenaustausch zwischen Spielern ermöglicht. Dieser soll mit Hilfe des SIP-SIMPLE-Protokolls implementiert werden.Die Mehrspieler-Kommunikation, die bisher mit propriäterer Software gelöst wird und nicht mit der Spielelogik verzahnt ist, soll im Rahmen der Diplomarbeit in das Spiel integriert werden. So sollen zwischen Mitspielern dynamisch Konferenzen aufgebaut werden, falls sich diese in einer zu definierten "Hörnähe" befinden. Falls sich ein Mitspieler außerhalb der Hörnähe befindet, sollen entsprechende Konferenzen abgebaut werden, wobei zu überlegen ist, aber verschiedene Verbindungsstufen aufrechtzuerhalten. Zur Abblidung von Lokalen Audioereignissen soll eine weiteren Audiorendering-Engine in das Spiel integriert werden, die es ermöglichen kann  lokale Soundquellen zu positionieren und Audiodaten, die nicht über das Netzwerk zu übertragen sind, lokal zu verwalten. Die Implementierung soll mit Skype und Multicast-Sockets Netzwerklayern verglichen werden, es soll untersucht werden inwiefern die verschiedenen zugrunde liegenden Systeme miteinander vergleichbar sind. Unter diesem Aspekt soll analysiert werden, wie sich die Performace dieser Systeme in einem direkten Benchmark miteinander verhält.

%\subsection{Komplett neue Intro}
%Virtuelle Welten
%Voip in Virtuellen Welten
%DAS PROBLEM:
%DIE LÖSUNG:

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "..\\da-beispiel"
%%% End: 
\cleardoublepage
